let isMenuOpen=false;let menuButton,mobileMenu;let scrollTimeout;function setupHamburgerMenu(){menuButton=document.getElementById('mobile-menu');mobileMenu=document.getElementById('nav-menu');if(!menuButton||!mobileMenu){console.error('‚ùå Elementos del men√∫ no encontrados');return;}if(menuButton.children.length===0){menuButton.innerHTML=`<span class="bar"></span><span class="bar"></span><span class="bar"></span>`;}const menuItems=[{text:'Inicio',target:'.hero'},{text:'Servicios',target:'.iot-section'},{text:'Misi√≥n',target:'.mission-vision'},{text:'Suscripci√≥n',target:'.contact-section'}];mobileMenu.innerHTML='';menuItems.forEach(item=>{const li=document.createElement('li');li.className='nav-item';const a=document.createElement('a');a.href='#';a.className='nav-link';a.textContent=item.text;a.addEventListener('click',function(e){e.preventDefault();closeMenu();setTimeout(()=>{const target=document.querySelector(item.target);if(target){target.scrollIntoView({behavior:'smooth',block:'start'});}},300);});li.appendChild(a);mobileMenu.appendChild(li);});menuButton.addEventListener('click',function(e){e.preventDefault();e.stopPropagation();toggleMenu();});document.addEventListener('click',function(e){if(isMenuOpen&&!menuButton.contains(e.target)&&!mobileMenu.contains(e.target)){closeMenu();}});console.log('üçî Men√∫ hamburguesa configurado');}function openMenu(){isMenuOpen=true;menuButton.classList.add('active');mobileMenu.classList.add('active');document.body.classList.add('menu-open');console.log('üìÇ Men√∫ abierto');}function closeMenu(){isMenuOpen=false;if(menuButton)menuButton.classList.remove('active');if(mobileMenu)mobileMenu.classList.remove('active');document.body.classList.remove('menu-open');console.log('üìÅ Men√∫ cerrado');}function toggleMenu(){if(isMenuOpen){closeMenu();}else{openMenu();}}function createFloatingButton(){const existingButtons=document.querySelectorAll('#real-floating-back-btn');existingButtons.forEach(btn=>btn.remove());const button=document.createElement('button');button.id='real-floating-back-btn';button.setAttribute('aria-label','Ir al inicio');button.innerHTML='<i class="fas fa-chevron-up"></i>';button.addEventListener('click',handleFloatingClick);button.addEventListener('touchstart',handleFloatingClick);document.body.appendChild(button);console.log('üî¥ Bot√≥n flotante creado para todas las pantallas');return button;}function handleFloatingClick(e){e.preventDefault();e.stopPropagation();console.log('üîº Scroll al inicio');window.scrollTo({top:0,left:0,behavior:'smooth'});}function handleScroll(){const button=document.getElementById('real-floating-back-btn');if(!button)return;const scrollTop=window.pageYOffset||document.documentElement.scrollTop;const threshold=200;clearTimeout(scrollTimeout);if(scrollTop>threshold){if(!button.classList.contains('floating-visible')){button.classList.add('floating-visible');console.log('üëÅÔ∏è Bot√≥n flotante mostrado');}scrollTimeout=setTimeout(()=>{button.classList.remove('floating-visible');console.log('üôà Bot√≥n flotante ocultado por inactividad');},15000);}else{if(button.classList.contains('floating-visible')){button.classList.remove('floating-visible');console.log('üôà Bot√≥n flotante ocultado (cerca del inicio)');}}}function setupScrollEvents(){let isScrolling=false;function throttledScroll(){if(!isScrolling){window.requestAnimationFrame(()=>{handleScroll();isScrolling=false;});isScrolling=true;}}window.addEventListener('scroll',throttledScroll,{passive:true});setTimeout(handleScroll,100);console.log('üìú Eventos de scroll configurados');}function initCompleteSolution(){console.log('üöÄ Iniciando soluci√≥n completa...');try{setupHamburgerMenu();createFloatingButton();setupScrollEvents();console.log('‚úÖ Soluci√≥n completa inicializada');}catch(error){console.error('‚ùå Error:',error);}}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',initCompleteSolution);}else{initCompleteSolution();}window.addEventListener('load',()=>{setTimeout(()=>{if(!document.getElementById('real-floating-back-btn')){createFloatingButton();handleScroll();}},500);});window.addEventListener('resize',()=>{if(window.innerWidth>768){if(isMenuOpen)closeMenu();}});window.completeSolution={reinit:initCompleteSolution,toggleMenu:toggleMenu,button:()=>document.getElementById('real-floating-back-btn')};console.log('‚úÖ Soluci√≥n completa cargada');